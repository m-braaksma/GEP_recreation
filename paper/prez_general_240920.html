<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matthew Braaksma">
<meta name="author" content="Lifeng Ren">
<meta name="author" content="Spencer Wood">
<meta name="author" content="Ryan McWay">
<meta name="dcterms.date" content="2024-09-20">

<title>Ecosystem Service of Recreation for GEP</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="prez_general_240920_files/libs/clipboard/clipboard.min.js"></script>
<script src="prez_general_240920_files/libs/quarto-html/quarto.js"></script>
<script src="prez_general_240920_files/libs/quarto-html/popper.min.js"></script>
<script src="prez_general_240920_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="prez_general_240920_files/libs/quarto-html/anchor.min.js"></script>
<link href="prez_general_240920_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="prez_general_240920_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="prez_general_240920_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="prez_general_240920_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="prez_general_240920_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#components-of-recreation-gep" id="toc-components-of-recreation-gep" class="nav-link" data-scroll-target="#components-of-recreation-gep">Components of Recreation GEP</a></li>
  <li><a href="#previous-estimates-of-recreation-value" id="toc-previous-estimates-of-recreation-value" class="nav-link" data-scroll-target="#previous-estimates-of-recreation-value">Previous Estimates of Recreation Value</a></li>
  <li><a href="#gep-formula" id="toc-gep-formula" class="nav-link" data-scroll-target="#gep-formula">GEP Formula</a></li>
  <li><a href="#estimating-recreation-gep" id="toc-estimating-recreation-gep" class="nav-link" data-scroll-target="#estimating-recreation-gep">Estimating Recreation GEP</a>
  <ul class="collapse">
  <li><a href="#method-1-extrapolation-from-gdp-measures" id="toc-method-1-extrapolation-from-gdp-measures" class="nav-link" data-scroll-target="#method-1-extrapolation-from-gdp-measures">Method 1: Extrapolation from GDP Measures</a>
  <ul class="collapse">
  <li><a href="#general-model" id="toc-general-model" class="nav-link" data-scroll-target="#general-model">General Model</a></li>
  <li><a href="#data-requirements" id="toc-data-requirements" class="nav-link" data-scroll-target="#data-requirements">Data Requirements</a></li>
  <li><a href="#calibration" id="toc-calibration" class="nav-link" data-scroll-target="#calibration">Calibration</a></li>
  </ul></li>
  <li><a href="#method-2-outdoor-recreation-extrapolation" id="toc-method-2-outdoor-recreation-extrapolation" class="nav-link" data-scroll-target="#method-2-outdoor-recreation-extrapolation">Method 2: Outdoor Recreation Extrapolation</a>
  <ul class="collapse">
  <li><a href="#general-model-1" id="toc-general-model-1" class="nav-link" data-scroll-target="#general-model-1">General Model</a></li>
  <li><a href="#data-requirement" id="toc-data-requirement" class="nav-link" data-scroll-target="#data-requirement">Data Requirement</a></li>
  </ul></li>
  <li><a href="#method-3-balmford-et-al.-2015-measure" id="toc-method-3-balmford-et-al.-2015-measure" class="nav-link" data-scroll-target="#method-3-balmford-et-al.-2015-measure">Method 3: Balmford et al.&nbsp;2015 Measure</a>
  <ul class="collapse">
  <li><a href="#estiamting-quantity-q" id="toc-estiamting-quantity-q" class="nav-link" data-scroll-target="#estiamting-quantity-q">Estiamting Quantity <span class="math inline">Q</span></a></li>
  <li><a href="#estimating-price-p" id="toc-estimating-price-p" class="nav-link" data-scroll-target="#estimating-price-p">Estimating Price <span class="math inline">P</span></a></li>
  </ul></li>
  <li><a href="#method-4-ryans-imagination" id="toc-method-4-ryans-imagination" class="nav-link" data-scroll-target="#method-4-ryans-imagination">Method 4: Ryan’s Imagination</a>
  <ul class="collapse">
  <li><a href="#estimating-quantity-q" id="toc-estimating-quantity-q" class="nav-link" data-scroll-target="#estimating-quantity-q">Estimating Quantity <span class="math inline">Q</span></a></li>
  <li><a href="#estimating-price-p-1" id="toc-estimating-price-p-1" class="nav-link" data-scroll-target="#estimating-price-p-1">Estimating Price <span class="math inline">P</span></a></li>
  <li><a href="#adjusting-for-natures-contribution-lambda" id="toc-adjusting-for-natures-contribution-lambda" class="nav-link" data-scroll-target="#adjusting-for-natures-contribution-lambda">Adjusting for Nature’s Contribution <span class="math inline">\lambda</span></a></li>
  <li><a href="#data-requirements-1" id="toc-data-requirements-1" class="nav-link" data-scroll-target="#data-requirements-1">Data Requirements</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#output" id="toc-output" class="nav-link" data-scroll-target="#output">Output</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="..\prez_general_240920.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Ecosystem Service of Recreation for GEP</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Matthew Braaksma </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Minnesota
          </p>
      </div>
      <div class="quarto-title-meta-contents">
    <p class="author">Lifeng Ren </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Minnesota
          </p>
      </div>
      <div class="quarto-title-meta-contents">
    <p class="author">Spencer Wood </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Washington
          </p>
      </div>
      <div class="quarto-title-meta-contents">
    <p class="author">Ryan McWay </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Minnesota
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 20, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="motivation" class="level1">
<h1>Motivation</h1>
<ul>
<li>We want to estimate the monetary value of recreation as an ecosystem service.</li>
<li>We would like to do this credibly at a global scale to produce a country-year panel.</li>
<li>This is a subcomponent of the larger GEP value for each nation and likely a sizeable value.</li>
</ul>
</section>
<section id="components-of-recreation-gep" class="level1">
<h1>Components of Recreation GEP</h1>
<ul>
<li>Nature-based recreation can be sub-divided by the type of recreation (park, camping, beach, lake activites, eco-tourism, etc.).</li>
<li>The key distinction for nature-based recreation is that these are activities where the main attraction (or attribute deriving utility) comers from nature.</li>
<li>For our purposes, we can start by narrowing our examination to camping or hiking recreation in protected areas. But in general, we can modify the following approach to consider a wider definition of nature-based recreation.
<ul>
<li>Consider what are the <span class="math inline">i \in I</span> that we wish to estimate and what we can’t estimate.</li>
</ul></li>
</ul>
</section>
<section id="previous-estimates-of-recreation-value" class="level1">
<h1>Previous Estimates of Recreation Value</h1>
<!-- 1. One big model, or splinter into the many components. (InVest Model) 
    - https://academic-oup-com.ezp2.lib.umn.edu/book/26318/chapter/194597515
    - Problem with InVEST model is it requires Flickr data (Commercial API Now Required) -->
<ol type="1">
<li>SEEA Accounts (Vallecilloa et al.&nbsp;2019, Ecological Modelling)
<ul>
<li>ESTIMAP-Recreation (EU Only)</li>
<li>17% of land suitable for daily recreation</li>
<li>500 million inhabitants (62% close to suitable land)</li>
<li>Value: EUR 50 Billion</li>
</ul></li>
<li>GEP of Ecotourism in Qinghai (Ougang et al., 2020)
<ul>
<li>Contingent Valuation survey data of travel expenditures (P, Q) for ‘eco-tourism’</li>
<li>They conduct the questionnaire at 3 parks of Qinghai and get the following key information
<ul>
<li>Visits Staying Time (days)</li>
<li>Travel Expenditure (X $/person)</li>
<li>Salary of Visitor (Y $/person/days)</li>
<li>Where does the visitor come from (Zone Z)</li>
</ul></li>
<li>Based on this information, they can get for all the zones they are interested in. And they get for each zone Z, what is the frequency/probability that people will visits 3 parks in Qinghai.</li>
<li>Then they reweight by zones for all respondents’ visiting rates and zonal population and sum up all costs (Travel Expenditure and Time expenditure) to equal to the GEP of ecotourism.</li>
<li>462 respondents; 2 parks, 1 lake</li>
<li>Value: Yuan 3 Billion in 2000, Yuan 21.6 Billion in 2015</li>
</ul></li>
</ol>
</section>
<section id="gep-formula" class="level1">
<h1>GEP Formula</h1>
<p>Deterministics (accounting) formula:</p>
<ul>
<li>Panel of monetary value over year <span class="math inline">t</span> and country <span class="math inline">c</span> over the set of recreation activities <span class="math inline">I</span></li>
<li>Requires aggreagtion to value by year and country to be consistent with system of national accounts (SNA) as presented with SEEA accounts.</li>
</ul>
<p><span class="math display">
GEP_{c,t} = \lambda \cdot ( \sum_{i \in I} P_{i,c,t} \cdot Q_{i,c,t})
</span></p>
<ul>
<li><span class="math inline">\lambda</span>: Nature’s contribution</li>
<li><span class="math inline">P</span>: Price <span class="math inline">\to</span> Travel cost for park visitors</li>
<li><span class="math inline">Q</span>: Quantity <span class="math inline">\to</span> Number of park visitors</li>
</ul>
<p>While <span class="math inline">\lambda</span> may vary over time and space, there is a theoretical and empirical decision to assert it is constant. Empirically, difficult to measure a change over time. Theoretically, if the value of recreation comes from contributions of land, labor, and capital – is the relative contribution of land compared to labor and capital changing (meaningfully) over time? Does it vary over country (componsition of the country)? Probably linked to structural transformation (development of a country).</p>
</section>
<section id="estimating-recreation-gep" class="level1">
<h1>Estimating Recreation GEP</h1>
<section id="method-1-extrapolation-from-gdp-measures" class="level2">
<h2 class="anchored" data-anchor-id="method-1-extrapolation-from-gdp-measures">Method 1: Extrapolation from GDP Measures</h2>
<section id="general-model" class="level3">
<h3 class="anchored" data-anchor-id="general-model">General Model</h3>
<p><span class="math display">
GEP_{c,y} = \lambda \cdot \theta \times X_{c,y} \times Z_{c,y}
</span></p>
<ul>
<li><span class="math inline">X</span>: Share of GDP from tourism</li>
<li><span class="math inline">Z</span>: Annutal GDP</li>
<li><span class="math inline">\lambda</span>: Nature’s contribution adjustment</li>
<li><span class="math inline">\theta</span>: % of tourism that is nature based</li>
</ul>
</section>
<section id="data-requirements" class="level3">
<h3 class="anchored" data-anchor-id="data-requirements">Data Requirements</h3>
<ol type="1">
<li>Share GDP from tourism related to nature
<ul>
<li><a href="https://www.trade.gov/travel-and-tourism-satellite-account-ttsa-program">Tourism Satellite Accounts (TSA)</a> for scenic and sight seeing travel cost</li>
<li><a href="https://www.bea.gov/data/special-topics/outdoor-recreation">BEA</a></li>
<li><a href="https://recreationroundtable.org/resources/national-recreation-data/">ORR</a></li>
</ul></li>
<li>National GDP measures
<ul>
<li>From the world bank</li>
</ul></li>
</ol>
</section>
<section id="calibration" class="level3">
<h3 class="anchored" data-anchor-id="calibration">Calibration</h3>
<ul>
<li>Test if this aligns with SEEA measures or UNWTO measures</li>
</ul>
</section>
</section>
<section id="method-2-outdoor-recreation-extrapolation" class="level2">
<h2 class="anchored" data-anchor-id="method-2-outdoor-recreation-extrapolation">Method 2: Outdoor Recreation Extrapolation</h2>
<ul>
<li>USA-ITA breaks down to GDP based on the recreation activities for both national level and state level</li>
<li>This data not available for the other countries (can extrapolate to other countries at global level) H- owever, it is hard to tease out the labor portion for calculating GDP_recreation.</li>
</ul>
<p>What we calculate now is an upper bound assuming</p>
<p><span class="math display">
GEP_{rec} \le GDP_{rec}
</span></p>
<section id="general-model-1" class="level3">
<h3 class="anchored" data-anchor-id="general-model-1">General Model</h3>
<p>Estimate the relationship (elasticity) between GDP recreation and size of the recreation areas. Then if we know the recreation area size we can use this as a proxy for GEP and translate this into monetary value through GDP. The logic is that larger recreation areas will generate more GDP.</p>
<p>Run the following state level regression</p>
<p><span class="math display">
GDP_{s,y} = \alpha + \beta X_{s,y} + \varepsilon
</span></p>
<ul>
<li><span class="math inline">GDP</span>: State <span class="math inline">s</span> by year <span class="math inline">y</span> recreational GDP</li>
<li><span class="math inline">X</span>: % of recreational area divided by total size of the state</li>
<li><span class="math inline">\beta</span>: elasticity between size of recreation area and GDP recreation share</li>
</ul>
<p>With this estimate we can use the <span class="math inline">\beta</span> to determine GEP for other nations using the same approach</p>
<p><span class="math display">
GEP_{c,y} = \lambda \times (\beta \cdot X_{c,y})
</span></p>
<ul>
<li><span class="math inline">X</span>: % of protected area divided by total size of the country</li>
<li><span class="math inline">\lambda</span>: Nature’s contribution adjustment</li>
</ul>
<p>A big limitation of this is that we are assuming that the relationship of GDP to GEP for recreation in the US is representative of other countries – especially those in lower income brackets. This is unlikely to be true.</p>
</section>
<section id="data-requirement" class="level3">
<h3 class="anchored" data-anchor-id="data-requirement">Data Requirement</h3>
<ol type="1">
<li>Use USA Outdoor Recreation GDP at state level
<ul>
<li>Conventional recreation, boating/fishing, RVing, Snow activities</li>
</ul></li>
<li>Measure accessibility to state parks
<ul>
<li><a href="https://www.nature.com/articles/s41597-022-01857-7">PAD-US-AR</a></li>
</ul></li>
</ol>
</section>
</section>
<section id="method-3-balmford-et-al.-2015-measure" class="level2">
<h2 class="anchored" data-anchor-id="method-3-balmford-et-al.-2015-measure">Method 3: Balmford et al.&nbsp;2015 Measure</h2>
<section id="estiamting-quantity-q" class="level3">
<h3 class="anchored" data-anchor-id="estiamting-quantity-q">Estiamting Quantity <span class="math inline">Q</span></h3>
<p>For each country <span class="math inline">c</span>, we can use the number of estimated visits annually for each protected area using the <a href="https://journals.plos.org/plosbiology/article?id=10.1371/journal.pbio.1002074">Balmford et al.&nbsp;2015</a> measure (~ 8 Billion visits annually).</p>
<p><span class="math display">
Q_{c} = \sum_{i \in I} Visits_{ic}
</span></p>
<p>The main issue with this quantity it is likely can over-estimate of visitations. It models predictions of visitation by:</p>
<ul>
<li>PA size</li>
<li>Local population size within 100KM of PA</li>
<li>Remoteness by travel time of city of &gt;50,000 using global friction surface</li>
<li>Natural attractiveness using a 1-5 rating scale by 3 conservation scientists</li>
<li>National income</li>
</ul>
<p>In their materials, they use a generalized linear model but (1) do not show the estimation equation and (2) do not show validation of the model or out of sample prediction.</p>
</section>
<section id="estimating-price-p" class="level3">
<h3 class="anchored" data-anchor-id="estimating-price-p">Estimating Price <span class="math inline">P</span></h3>
<p>Try to estimate the average expenditure for a recreation visit by dividing the GDP per capita attributable to recreation by the number of park visitors annually. You could measure the expenditure on recreation through <a href="https://ourworldindata.org/grapher/tourism-gdp-proportion-of-total-gdp?time=2022">UNWTO share of GDP</a> or as <a href="https://data.worldbank.org/indicator/ST.INT.RCPT.CD?end=2020&amp;start=1995">international tourism reciept</a> (a bit more broadly defined).</p>
<p>Two issue:</p>
<ul>
<li>GDP measure will be for all recreation (includes tourism, etc.). So this will over-value the price</li>
<li>It is difficult to find data on only nature-based recreation GDP</li>
</ul>
<p><span class="math display">
P_c = \frac{GDP_{pc} from Rec_j}{Q_c}
</span></p>
</section>
</section>
<section id="method-4-ryans-imagination" class="level2">
<h2 class="anchored" data-anchor-id="method-4-ryans-imagination">Method 4: Ryan’s Imagination</h2>
<section id="estimating-quantity-q" class="level3">
<h3 class="anchored" data-anchor-id="estimating-quantity-q">Estimating Quantity <span class="math inline">Q</span></h3>
<ul>
<li>Main issue: We do not observe park vistors in systematic way across global and across time.</li>
</ul>
<p>Inspired by the <a href="https://journals.plos.org/plosbiology/article?id=10.1371/journal.pbio.1002074">Balmford et al., 2015</a> method. Ideally improved. What I am aiming to do is measure a propensity to visit using attributes of the park that are attractive and the distance of the park. Then multiplying this probability to visit by the known population from the origin to obtain the number of visitors a park gets each year.</p>
<p>Start with the <a href="https://sedac.ciesin.columbia.edu/data/collection/gpw-v4">gridded population data</a>. The idea is to estimate a likelihood function to determine the probability that a representive agent in any grid cell will visit each park. We can estimate this primarly using distance to parks. In this setting, we assume that likelihood to visit is primarly determined by distance. But we add in other attributes that make a park attractive (just as is done in Balmford).</p>
<p>The measure of distance can be determined by:</p>
<ul>
<li>Euclidean distance using raster algebra</li>
<li>Travel time calculated by Open Street Maps</li>
</ul>
<p>We can place this framework within a gravity model.</p>
<p><span class="math display">
V_{ij} = G \frac{M_i^{\beta_1}M_j^{\beta_2}}{D_{ij}exp(Border)} \cdot \eta
</span></p>
<ul>
<li><span class="math inline">G</span>: Base rate of gravity. In our context this is the base rate of visitiation between grid cell <span class="math inline">i</span> and park <span class="math inline">j</span>. This would be the frictionless rate of visitation (perfectly accessible park)</li>
<li><span class="math inline">M_i</span> and <span class="math inline">M_j</span>: These are the attration properties of grid cell <span class="math inline">i</span> to park <span class="math inline">j</span>. For grid cells, this may be that they are urban/rural, income, or other attributes that make them have increased desire to visit a park. For parks, this could be attributes about the park like features, scenic value, size of the park, designation as national, state or local.</li>
<li><span class="math inline">D</span>: the distance between grid cell <span class="math inline">i</span> and park <span class="math inline">j</span></li>
<li><span class="math inline">Border</span>: This is dummy variable that applifies the fricition to distance if the visitor has to cross a national border (administrative or logistical fricitions)</li>
<li><span class="math inline">\eta</span>: A multipilicative error term for all other attributes that pull the bodies together and push the apart. Otherwise, this is a deterministic model.</li>
</ul>
<p>We can log-linearize this model:</p>
<p><span class="math display">
log(V_{ij}) = \beta_0 log(G) + \beta_1 log(M_i) + \beta_2 log(M_j) + \beta_3 log(D_{ij}) + \beta_4 Border + \eta
</span></p>
<p>We will need to match this model to real data. So to take this to the data we will likely want to use a Poisson Pseudo Maximum Likelihood (PPML) method that accounts for heteroskedastic errors (Silva and Tenreyro, 2006). We will need some data on the number of visits from <span class="math inline">i</span> to <span class="math inline">j</span>. So this is some park level information on annual visits generally from across the world. This is difficult to do for all parks globally. But suppose you can do it for some subset of parks that are representative of all parks (externally valid). Then you can estimate the above model and use the <span class="math inline">\beta</span> coefficents as a calibration method to extrapolate the number of visitations <span class="math inline">V</span> for each park given attributes that are known globally about <span class="math inline">M_i</span> and <span class="math inline">M_j</span> and our estimated distance between the two locations.</p>
<p>At the end of this exercise, we will have the number of estimated visits from each park to each grid cell. This allows us to generate:</p>
<ol type="1">
<li>The total number of visitations to each park.</li>
<li>The total visitations from each grid cell.</li>
</ol>
<p>Ideally, we can validate our results for each with some aggregated data on park vistations from tourism and park services for parks and from cities. This should add to the credibility of our estimates for the quantity of visitors.</p>
<p>In the end, for GEP we will just need to aggregate up the number of visits by <em>parks</em> to get the <span class="math inline">Q</span> in the forumla for each country. We should use park value (rather than grid values) because that is where the ecosystem service is being derived from. So we don’t actually care where the visitor comes from. What we care about is where they go. That is where the production value is being produced (and quinsendentally consumed as this is a non-tradeable good).</p>
<p>A Suggestion by Steve: Do a zonal calculation. Only consider people within a certian proximity of each park rather than the whole world. This relies on the assumption that after a certain buffer, travel to a PA is prohibitive (either in expense or legally).</p>
</section>
<section id="estimating-price-p-1" class="level3">
<h3 class="anchored" data-anchor-id="estimating-price-p-1">Estimating Price <span class="math inline">P</span></h3>
<ul>
<li>Main issues: (1) We do not observe prices for park visitors, and (2) most recreation areas are often free access or subsidized so we have a non-market good to consider.</li>
</ul>
<p>The underlying principle to estimate the price for recreation is to measure a Willingness to Pay (WTP) through revealed preference of travel cost. The underlying assumption in this setting is that the primary determinate of visiting a park is distance. So the further the distance, the more valuable the park must be to the visitor. Note that this can be confirmed from the gravity model in the previous section using <span class="math inline">\beta_3</span>. This should be the largest coefficient relative to observable attributes in <span class="math inline">M_i</span> and <span class="math inline">M_j</span>. If it is not, then distance is not the main driver of revealed preferences.</p>
<p>A nice attribute of travel cost is that we can associate this cost to known costs of travel in monetary terms. So, persume (naively) that everyone drives or flies to get to their destination. Then we can use gasoline prices as a measure of cost and multiply that by the distance traveled. You can imagine how this could be refined. In this way, we avoid the infeasible necessity to use a survey method for visitors to report costs. This can be a way to validate our cost measures if there are parks/studies with this information. Such an exercise would be designed to change the travel costs to better reflected survey reports to total cost. So you could imagine the following simple regression to go beyond a basic gas prices <span class="math inline">\times</span> distance measure.</p>
<p><span class="math display">
C_{ij} = \alpha_0 + \alpha_1 G_{i} \times D_{ij} + \alpha_2 X_{i} + \varepsilon
</span></p>
<ul>
<li><span class="math inline">C</span>: Cost paid by visitor <span class="math inline">i</span> to go to <span class="math inline">j</span></li>
<li><span class="math inline">G</span>: Gas prices paid by visitor <span class="math inline">i</span></li>
<li><span class="math inline">D</span>: Distance for visitor <span class="math inline">i</span> to <span class="math inline">j</span></li>
<li><span class="math inline">X</span>: Any other costs that are reported</li>
</ul>
<p>From this regression, what can use from the subset of survey data is determine the influence of gas and distance <span class="math inline">\alpha_1</span> relative to the importance of all other costs <span class="math inline">\alpha_2</span>. We can also confirm in this way that gas costs from distance is the main travel cost. We know the distance and gas globally, but not the other information. So we can try to measure the porportional importance of other costs to total cost. Say something as simple as <span class="math inline">\frac{D}{C}</span> as a probability weight for portion of cost attributable to distance. Flip this an we can re-weight all of our travel costs with an inverse probability weight. Namely, <span class="math inline">w = \frac{1}{\frac{D}{C}} = \frac{C}{D}</span>.</p>
<p>From here forward I am laying out the groundwork for backing out the WTP measure in monetary terms. In case it gets lost in my explanation, the core aspect we care about is likelihood to visit determined by importance of income net of travel costs. This should give us the price for any given park as determined by distance.</p>
<p>Let us start with a discrete choice model. In this model, visitor <span class="math inline">n</span> is selecting which park <span class="math inline">j</span> they would like to visit. In any time <span class="math inline">t</span> they can only select one park <span class="math inline">j</span> from the set of parks <span class="math inline">J</span>. We observe ex-post where a person has choosen to visit. So we will develop a behavioral model to describe why they made that choice using observable attributes about the individual visitor and the selection of parks avaliable to them.</p>
<p>Let us start with a random utility model (REM). The visitor has observed attributes <span class="math inline">s_n</span>. We will say that these are heterogenous preferences across the population. So if we observe differences in income or being a foreign national we can distinguish visitation by differences in tastes. The visitory selects over alternative parks <span class="math inline">j</span> which have observable attributes <span class="math inline">x_{nj} \forall j \in J</span>. These are things like scenic quality, size of the park, amenities, travel cost to get there, etc. Each visitor recieves some representative utlity for each park they <em>could</em> visit:</p>
<p><span class="math display">
V_{nj} = V(x_{nj}, s_n) = \beta'_n x_{nj} \forall j
</span></p>
<p><span class="math inline">\beta'_n</span> allows for variation in taste and this is described by an i.i.d. extreme value distribution <span class="math inline">\beta_n \sim f_n(\beta|\Theta)</span>. The <span class="math inline">\beta</span> captures the <span class="math inline">s_n</span> attributes varying across vistors. This is their difference in assigning importance (perference) over different attributes of the park <span class="math inline">x</span>. This is non-deterministic as there is utility from attributes we don’t observe. So this is an indirect utility function. It is a component of the following overall direct utility function:</p>
<p><span class="math display">
U_{nj} =  V_{nj} + \varepsilon_{nj}
</span></p>
<p>Let us assume that the unobserved attributes as a random vector logistically distributed by <span class="math inline">f(\varepsilon)</span>. The probability that visitor <span class="math inline">n</span> visits park <span class="math inline">i</span> is</p>
<p><span class="math display">
P_{ni} = \int \mathbf{1}[\varepsilon_{nj} - \varepsilon_{ni} &lt;  V_{ni} -  V_{nj}] f(\varepsilon) d \varepsilon
</span></p>
<p>This simply states that the probability of vistor <span class="math inline">n</span> selecting park <span class="math inline">i</span> to visit is the value obtained from observed attributes is greater in <span class="math inline">i</span> than in all other parks <span class="math inline">j</span> and that this value is greater than the unobserved value for park <span class="math inline">j</span> over park <span class="math inline">i</span>. Note also that this is a CDF.</p>
<p>We assume that <span class="math inline">\varepsilon</span> is i.i.d. from the extreme value distribution such that:</p>
<p><span class="math display">
CDF: F(\varepsilon_{nj}) = 1 - e^{-e^{\varepsilon_{nj}}}
</span></p>
<p>Then the realized difference that the random error value for <span class="math inline">j</span> is greater than <span class="math inline">i</span> becomes:</p>
<p><span class="math display">
\begin{align}
\varepsilon^*_{nji} = &amp; \varepsilon_{nj} - \varepsilon_{ni} \\
F(\varepsilon^*_{nji}) = &amp; \frac{e^{\varepsilon^*_{nji}}}{1 + \varepsilon^*_{nji}}
\end{align}
</span></p>
<p>From here we get the probability of visitor <span class="math inline">n</span> visiting park <span class="math inline">i</span> where <span class="math inline">V_{nj} = \beta'_n x_{nj}</span> as:</p>
<p><span class="math display">
P_{ni} = \int \left( \frac{e^{\beta'_n x_{ni}}}{\sum_j e^{ \beta'_n x_{nj}}} \right) f_n(\beta|\Theta) d(\beta)
</span></p>
<p>Because we are allowing for taste variation in the population, the above proability does not have a closed form solution (because we do not know the solution to the mixing of several logistical distributions – one <span class="math inline">\varepsilon</span> distribution for each <span class="math inline">\beta</span>). But we can give the probability distrubition some normal form: <span class="math inline">f_n(\beta|\Theta) = f(\beta|\mu, \sigma)</span>. And an advantage here is that we have relaxed the Irrelevance of Independent Alternatives (IIA) assumption - we have correlations between unobserved factors of alternatives.</p>
<p>We will construct a simulated mixed logit proability through bootstrapping and then place this within a simulated log-likelihood estimator. For the simulated mixed logit, we will do the following steps:</p>
<ol type="1">
<li>Draw at <span class="math inline">\beta^r</span> for draw <span class="math inline">r</span> from <span class="math inline">f_n(\beta|\Theta)</span>. This is an observed attribute for visitor <span class="math inline">n \in N</span>.</li>
<li>Calculate the logit formula for <span class="math inline">P_ni(B^r)</span>. This is the probability the visit park <span class="math inline">i</span> given we observe this attribute about the visitor and all the attributes about the park <span class="math inline">x_j \forall j \in J</span>.</li>
</ol>
<p><span class="math display">
P_ni(B^r) = \frac{e^{B^r x_{ni}}}{\sum_j e^{B^r x_{nj}}}
</span></p>
<ol start="3" type="1">
<li>Re-draw and estimate 1 and 2 <span class="math inline">R</span> times</li>
<li>Average the results to get simulated probability</li>
</ol>
<p><span class="math display">
\hat{P_{ni}} = \frac{1}{R} \sum_{r=1}^R P_ni(B^r)
</span></p>
<p>Now we can place it in the simulated log-likelihood estimator. Set <span class="math inline">y_{ni} = 1</span> when the visitor chooses park <span class="math inline">i</span>. We select the <span class="math inline">\Theta</span> that matches <span class="math inline">(\mu, \sigma)</span> to the observed data using general method of moments. This is the estimator:</p>
<p><span class="math display">
SSL = \sum_{n=1}^N \sum_{j=1}^J y_{nj} log(\hat{P_{ni}})
</span></p>
<p>In our context, to back out the monetary value of travel cost we need the following indirect utility function that we can vary over time <span class="math inline">t</span>:</p>
<p><span class="math display">
V_{njt} = \beta_1 (y_n - c_{njt}) + \varepsilon_{njt}
</span></p>
<p><span class="math inline">\beta_1</span> is the WTP price we are after for visitor <span class="math inline">n</span> to park <span class="math inline">j</span> in time <span class="math inline">t</span>. In our case, is the likelihood that a visitor from grid cell <span class="math inline">n</span>. We can add in other attributes we think are correlated with <span class="math inline">\beta_1</span> that may bias it. But in practice, all we need to know is average income <span class="math inline">y</span> and some measure of travel cost <span class="math inline">c</span>.</p>
</section>
<section id="adjusting-for-natures-contribution-lambda" class="level3">
<h3 class="anchored" data-anchor-id="adjusting-for-natures-contribution-lambda">Adjusting for Nature’s Contribution <span class="math inline">\lambda</span></h3>
<p>Two potential Methods:</p>
<ol type="1">
<li>Something out of GTAP or CWON (both by Justin).
<ul>
<li>From cobb-douglas production function, <span class="math inline">1 - \alpha - \beta</span>.</li>
</ul></li>
<li>Try a hedonic model for land prices
<ul>
<li>Value of park land with no development must be the value of nature</li>
<li>Nothing else can contribute to the value of land in protected area</li>
<li>Would need to make this a multiplier effect (so portion of the hedonic value attributable to land)</li>
<li>Issue: Because it is protected land, we do not see land purchases very often. In fact, most valuable land is likely always a protected area.</li>
</ul></li>
</ol>
</section>
<section id="data-requirements-1" class="level3">
<h3 class="anchored" data-anchor-id="data-requirements-1">Data Requirements</h3>
<ol type="1">
<li>World Protected Areas Database
<ul>
<li>Shapefiles for location and size of existing protected areas and when they open (allows for dyanmic component)</li>
</ul></li>
<li>InVEST Scenic Quality Model
<ul>
<li>https://naturalcapitalproject.stanford.edu/invest/scenic-quality</li>
<li>Determine avg (or max) attractiveness of each park</li>
<li>Need info on viewpoints, visibility of view points (DEM), and weight for value of each view point (relative value)</li>
</ul></li>
<li>Gridded Population Data
<ul>
<li># of people in each grid cell and where they live.</li>
</ul></li>
<li>Incomes at sub-national level
<ul>
<li>Assign as the average income (budget constraint) for people in given grid cells</li>
</ul></li>
<li>Open Street Map
<ul>
<li>Average travel distance and time from grid cells to parks</li>
</ul></li>
<li>Park Visititation Data
<ul>
<li>Natual Park Service, etc.</li>
<li>Visitation of rates to calibrate visitation model off of.</li>
</ul></li>
</ol>
</section>
<section id="analysis" class="level3">
<h3 class="anchored" data-anchor-id="analysis">Analysis</h3>
<section id="cleaning" class="level4">
<h4 class="anchored" data-anchor-id="cleaning">Cleaning</h4>
<ol type="1">
<li>Clean raw datasets</li>
<li>Merge attributes of parks with park level info</li>
<li>Merge population gridded data with attributes about consumers (income)</li>
</ol>
</section>
<section id="estimate-grid-cell-components" class="level4">
<h4 class="anchored" data-anchor-id="estimate-grid-cell-components">Estimate Grid Cell Components</h4>
<ol start="4" type="1">
<li>Estimate distance from gridded cells to parks (Euclidean distance, or OSM distance)</li>
<li>Estimate propensity for visits by grid cells</li>
<li>Calibrate propensity for visits = quantity of visitors per park</li>
<li>Estimate WTP for visitors in each grid cell to each park</li>
<li>Back out price using WTP, income, and travel cost = price for visitors for park-grid cell pairs</li>
</ol>
</section>
<section id="estimate-gep" class="level4">
<h4 class="anchored" data-anchor-id="estimate-gep">Estimate GEP</h4>
<ol type="1">
<li>Multiply grid cell price-to-park with grid cell visitor-to-park <span class="math inline">\times</span> nature’s contribution adjustment = GEP value to visit all parks from that grid cell</li>
<li>Aggregate grid cell value for a nation in a year = <span class="math inline">GEP_{i,t}</span> = Export panel data</li>
</ol>
</section>
</section>
</section>
</section>
<section id="output" class="level1">
<h1>Output</h1>
<ol type="1">
<li>A panel data set of GEP values for country and year we can hand to Justin &amp; Steve</li>
<li>Map showing the gridded population overlayed on protected areas (Method)</li>
<li>Map (or table) showing grid cell values for total visitor count and average WTP (Origin)</li>
<li>Map (or table) showing parks total visitor count and average WTP (Destination)</li>
<li>Time series of GEP value</li>
<li>Some comparision (ground truth table) of recreation GEP value to GDP value (World bank measure)
<ul>
<li>https://www.unwto.org/tourism-statistics/economic-contribution-SDG</li>
<li>https://wdi.worldbank.org/table/6.14</li>
<li>https://data.worldbank.org/indicator/ST.INT.RCPT.CD</li>
<li>https://data.oecd.org/industry/tourism-gdp.htm</li>
</ul></li>
</ol>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>